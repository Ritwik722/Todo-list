<!DOCTYPE html>
<html>
<head><title>Todo CRUD</title></head>
<body>
    <h1>Todo List</h1>
    <form method="post" action="/create">
        <input type="text" name="task" placeholder="New task" required>
        <button type="submit">Add</button>
    </form>
    <ul>
        {% for todo in todos %}
        <li>
            {{ todo.task }} 
            {% if todo.completed %}<s>{% endif %}
            <form method="post" action="/update/{{ todo.id }}" style="display:inline;">
                <button name="completed" value="{{ not todo.completed }}">{{ 'Undo' if todo.completed else 'Done' }}</button>
            </form>
            <form method="post" action="/delete/{{ todo.id }}" style="display:inline;">
                <button onclick="return confirm('Delete?')">Delete</button>
            </form>
        </li>
        {% endfor %}
    </ul>
</body>
</html>
